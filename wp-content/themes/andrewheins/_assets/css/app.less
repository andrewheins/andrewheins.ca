/* ==========================================================================
   Debug
   ========================================================================== */

* {
	//outline: solid 1px green;
}


/* ==========================================================================
   Layout
   ========================================================================== */
 
html {}

html#html { // WPFix: Eliminate gap at the top for logged-in users
    margin-top: 0 !important;
    height: 100%;
	overflow: hidden;
}

.ie8 body, .ie9 body {
    min-width: 1080px;

}

body {
    background: white;
    min-width: @min-width;
    max-width: @full-width;
    margin: 0 auto;
	height: 100%;
	overflow: auto;
	-webkit-overflow-scrolling: touch;
}

.context-dark {
	background: @dark;
	color: #eee !important;
	
	a {
		color: inherit;
	}
}

/* ==========================================================================
   Grid
   ========================================================================== */

.row, .col {
    &:extend(.clearfix all);
}

.inner {
	
    &:extend(.clearfix all);
    margin: 0 auto;
    max-width: @inner-width; // 1280px column, plus gutters to account for mod margins
    
    &.row-bordered {
	    
		border-top: solid 1px @light;
		margin: 0 @content-spacing;
		
		// We want the outer edge of the border to align with the outer edge of the content
		// so we need to make some adjustments for mod margins
		
		// For mods outside of rows, we can simply flatten their sides
		& > .mod {
			margin-left: 0;
			margin-right: 0;
		}
		
		// child rows imply a grid is coming, with each column using child mods for gutters
		// We want to maintain that spacing, but ensure the outer edges align, so we outdent the row
		& > .row {
			margin-left: -@content-spacing;
			margin-right: -@content-spacing;
		}
		
	}
    
}

.col {

    @media only screen and (min-width: 800px) {

		float: left;

        &[style-size="1of1"] { float: none; }
		&[style-size="1of2"] { width: 50%; }
		&[style-size="1of3"] { width: 33.33333%; }
		&[style-size="2of3"] { width: 66.66666%; }
		&[style-size="1of4"] { width: 25%; }
		&[style-size="3of4"] { width: 75%; }
		&[style-size="1of5"] { width: 20%; }
		&[style-size="2of5"] { width: 40%; }
		&[style-size="3of5"] { width: 60%; }
		&[style-size="4of5"] { width: 80%; }
		&[style-size="1of7"] { width: 14.285714%; }
		&[style-size="2of7"] { width: 28.571429%; }
		&[style-size="3of7"] { width: 42.857143%; }
		&[style-size="4of7"] { width: 57.142857%; }
		&[style-size="5of7"] { width: 71.428571%; }
		&[style-size="6of7"] { width: 85.714286%;}
		&[style-size="1of8"] { width: 12.5%; }
		&[style-size="3of8"] { width: 37.5%; }
		&[style-size="5of8"] { width: 62.5%; }
		&[style-size="7of8"] { width: 87.5%; }

        &[style-pad="1of6"] { margin-left: 16.6666%; }
        &[style-pad="1of4"] { margin-left: 25%; }

	}

}



/* ==========================================================================
   Sticky Footer
   ========================================================================== */

.site {
	display: table;
	height: 100%;
	table-layout: fixed;
	width: 100%;
	
	& > .row:last-of-type {
		padding-bottom: 2*@content-spacing;
	}
}


/* ==========================================================================
   Header
   ========================================================================== */

.page-header {
    &:extend(.unselectable);
    &:extend(.clearfix all);
    border-bottom: @light 1px solid;
    margin-left: @content-spacing;
    margin-right: @content-spacing;
    margin-bottom: @content-spacing;
    
    .brand {
	    
	    &:extend(.mod all);
	    text-align: center;
	    
	    &:extend(.font-title all);
	    
    }
    
    .nav {
	    &:extend(.mod all);
	    text-align: center;
    }
    
    .site-menu {
	    &:extend(.list-horizontal all);
	    display: inline-block;
	    
	    a {
	    	&:extend( .nav-link all );
	    }
    }
}



/* ==========================================================================
   Footer
   ========================================================================== */

.page-footer {
	
	&:extend(.context-dark all);
	&:extend(.small-text);
	margin-top: 2*@content-spacing;
	
	/* Sticky Footer Logic */
	display: table-row;
	height: 1px;
	
	.mod {
		text-align: center;
	}

}


/* ==========================================================================
   Layers
   ========================================================================== */
   
.row {
   
   &[layer-style="text_block"] {
	   .mod {
		   max-width: 800px;
		   float: right;
		   padding-left: @content-spacing;
		   border-left: solid 12px @light;
	   }
   }
   
}